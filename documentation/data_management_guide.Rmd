---
title: " Data Management Guidelines for the Caribou and Land Use Simulator"
author: "Tyler Muhly"
date: "02/11/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library (DBI)
library (here)
library (data.table)

source (here ("R/functions/R_Postgres.R"))

```

Like any quantitative model, the caribou and land use simulator (CLUS) has a specific framework for how it uses datasets in the modeling platform. For details on this framework, see the *Getting Started with CLUS* documentation. Here we describe how to document those datasets that are developed and used within the CLUS model. 

### The Data Tracking Table
Spatial and aspatial data and parameters used in CLUS are stored in [PostgreSQL databases](https://www.postgresql.org/). We uploaded a data tracking table called 'pgdbs_data_list' to a CLUS PostgreSQL database that describes each 'table' (i.e., dataset) in each PostgreSQL database used by the CLUS model or CLUS web applications. This tracking table is intended to help CLUS users understand the origin, status and appropriate end-use of datasets in the CLUS model.  

```{r, write original spreadsheet to postgres, eval = F, echo = F, warning = F, message = F}
# Below is the original script to upload the data list to the database; this is just an example
# DO NOT RUN THIS unless you need to re-create the data form scratch
pgdbs_data_list <- read.csv ("C:\\Work\\pgdbs_data_list.csv",
                               header = T,
                               sep = ",") 
conn <- DBI::dbConnect(dbDriver("PostgreSQL"), 
                       host = keyring::key_get('dbhost', keyring = 'postgreSQL'), 
                       dbname = keyring::key_get('dbname', keyring = 'postgreSQL'), 
                       port='5432' ,
                       user=keyring::key_get('dbuser', keyring = 'postgreSQL') ,
                       password= keyring::key_get('dbpass', keyring = 'postgreSQL'))
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)
```

The data tracking table (pgdbs_data_list) consists of 11 fields. Each row represents a unique data 'table' in a PostgreSQL database. The *computer*, *database* and *schema* fields identify the location of the PostgreSQL database that the table is stored in, and the *table_name* field identifies the name of the table in the database. The *type* field identifies whether the data table is one of three types: an aspatial 'table', spatial 'polygon', 'point' or 'line' or spatial 'raster'.  The *script* field identifies where in the CLUS script repository the data was documented and created. For example, many of the rasters and tables used to define provincial management objectives, such as visual quality objectives, are documented and created in *clus\R\Params\prov_manage_objs.Rmd*. The *source* field describes in brief what the data is and where the original data were obtained, and the *public* field describes whether the data can be shared with the public ('Yes'), or must be kept internal and confidential ('No'). The *last_updated* field documents the year the data was added to the database or last modified, and the *next_update* field documents the year the data should ideally be updated. For example, the consolidated cutblocks data should ideally be updated annually. If the data is not going to be updated and the data should be maintained long-term in the database (e.g., a 'static' landscape dataset such as a digital elevation model) the *next_update* field can be set to 'NA'. When it is not clear when an update is needed but we anticipate that a dataset will need to be updated at some point soon (e.g., the spatial boundaries of caribou population ranges) the *next_update* field can be set to 'as needed'. Finally, the *where_used* field documents where in the CLUS model the table is used, for example, in the dataLoaderCLUS module, or the CLUS scenario application. If the data are no longer used anywhere, but you don't want to delete it, the *where_used* field can be set to 'archive' (and the data moved to the archive schema of the database - see below). If the data are no longer used anywhere, but you think it should be deleted the *where_used* field can be set to 'deprecated' (see below). 

### Updating the Tracking Table
The data tracking table (pgdbs_data_list) should be updated whenever a new dataset is added to or modified in the CLUS model or web applications. For example, if a new management area with a new management objective is defined and created in the database it should be documented by adding a new row to the tracking table. 

When adding new data that you anticipate will be updated on a annual basis, include the year it was uploaded to the end of the table name, e.g., 'new_table_2020'. If you anticipate the data will be updated monthly, include the year and month at the end of the table name, e.g., 'new_table_202011'. 

```{r, add new row (new data) to the table, eval = F, echo = T, warning = F, message = F}
# Example script to add new row to tracking table

# load the existing data tracking table
conn <- DBI::dbConnect(dbDriver("PostgreSQL"), 
                       host = keyring::key_get('dbhost', keyring = 'postgreSQL'), 
                       dbname = keyring::key_get('dbname', keyring = 'postgreSQL'), 
                       port='5432' ,
                       user=keyring::key_get('dbuser', keyring = 'postgreSQL') ,
                       password= keyring::key_get('dbpass', keyring = 'postgreSQL'))
pgdbs_data_list <- getTableQuery("SELECT * from public.pgdbs_data_list;")

#Create new row for table
new_data <- data.table (computer = 'test', # e.g., 206.12.91.188 or DC052586 
                        database = 'test', # clus
                        schema = 'test', # caribou, public, vat, zone or rast
                        table_name = 'test', # add year adn month if relevant
                        type = 'test', # polygon, point, line, raster or table
                        script = 'test', # name and location of script to produce the data
                        source = 'test', # description of data source
                        public = 'test', # Yes, if can be shared with public, otherwise No
                        last_updated = 'test', # year when data added
                        next_update = 'test', # year when data should ideally be updated
                        where_used = 'test' # name of module of application where data used, set to 'deprecated' if no longer used, and 'archive' if moved to the archive schema
                        )
# merge tables
pgdbs_data_list_new <- merge (pgdbs_data_list, new_data, all = T)
# OR
# merge tables
pgdbs_data_list_new <- Reduce (function(dtf1, dtf2) merge (dtf1, dtf2, all = TRUE), 
                               list (pgdbs_data_list, new_data, new_data2, new_data3, new_data4))
# re-upload data to postgres
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new, 
                  row.names = FALSE, overwrite = TRUE)
```

If an existing dataset is updated in the database, the *last_updated* and *next_update* fields needs to be updated and documented in the tracking table (pgdbs_data_list).  

```{r, modify an existing row (table), eval = F, echo = T, warning = F, message = F}
# Example script to modify row in tracking table
conn <- DBI::dbConnect(dbDriver("PostgreSQL"), 
                       host = keyring::key_get('dbhost', keyring = 'postgreSQL'), 
                       dbname = keyring::key_get('dbname', keyring = 'postgreSQL'), 
                       port='5432' ,
                       user=keyring::key_get('dbuser', keyring = 'postgreSQL') ,
                       password= keyring::key_get('dbpass', keyring = 'postgreSQL'))
# edit row
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set last_updated = '2020' where table_name = 'test';") # This example will edit the year of last update for the table called 'test'

```

### Deleting or Archiving Data
If data is no longer needed in the database it should be labelled as ‘deprecated’. This data should be kept in the database for one year, and re-evaluated on an annual basis. If the data is not needed after a year, it can be deleted or archived. If it is unlikely the data will be used in future analyses, delete it.  

```{r, delete an existing row (table), eval = F, echo = T, warning = F, message = F}
# Example script to delete row in tracking table
conn <- DBI::dbConnect(dbDriver("PostgreSQL"), 
                       host = keyring::key_get('dbhost', keyring = 'postgreSQL'), 
                       dbname = keyring::key_get('dbname', keyring = 'postgreSQL'), 
                       port='5432' ,
                       user=keyring::key_get('dbuser', keyring = 'postgreSQL') ,
                       password= keyring::key_get('dbpass', keyring = 'postgreSQL'))
# label data as deprecated
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set where_used = 'deprecated' where table_name = 'test';") # This example will edit the year of last update for the table called 'test'

# delete row
dbExecute (conn, 
           "DELETE FROM public.pgdbs_data_list WHERE table_name = 'test';") # This example will delete the table called 'test'

```

If the data are no longer used, but there is some anticipated need to keep it for future analysis, it can be archived. In these cases, copy the table to the 'archive' schema in the database, and label the relevant row in the data tracking table as 'archive'. Also, change the *schema* to 'archive'.

```{r, archive a table, eval = F, echo = T, warning = F, message = F}
#Example script to archive data
conn <- DBI::dbConnect(dbDriver("PostgreSQL"), 
                       host = keyring::key_get('dbhost', keyring = 'postgreSQL'), 
                       dbname = keyring::key_get('dbname', keyring = 'postgreSQL'), 
                       port='5432' ,
                       user=keyring::key_get('dbuser', keyring = 'postgreSQL') ,
                       password= keyring::key_get('dbpass', keyring = 'postgreSQL'))
# copy table to archive schema and delete from active schema
dbExecute (conn, 
           "SELECT * INTO archive.cb_sum FROM public.cb_sum;")

# label data as 'archive'
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set where_used = 'archive' where table_name = 'test';") # This example will set the table called 'test' to the 'archive' status

# update the schema
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set schema = 'archive' where table_name = 'test';") # This example will set the schema to 'archive' for the table called 'test' 
```

### Tracking Table Change Log
Changes to the tracking table can be documented in the code chunk below. We can use this, and the orignal .csv (archived in *spatialfiles2.bcgov/archive/FOR/VIC/HTS/ANA/PROJECTS/CLUS/Data/pgdbs_data_list.csv*) to recreate the table in the event we lose the PostgreSQL database table.

```{r, change log, eval = F, echo = T, warning = F, message = F}
# Change Log
conn <- DBI::dbConnect(dbDriver("PostgreSQL"), 
                       host = keyring::key_get('dbhost', keyring = 'postgreSQL'), 
                       dbname = keyring::key_get('dbname', keyring = 'postgreSQL'), 
                       port='5432' ,
                       user=keyring::key_get('dbuser', keyring = 'postgreSQL') ,
                       password= keyring::key_get('dbpass', keyring = 'postgreSQL'))

# updates to refer to amalgamated caribou Param scripts
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list SET script = 'clus\\R\\Params\\caribou_management_areas.Rmd' WHERE (table_name = 'caribou_herd') OR (table_name = 'bc_carib_poly_20090904') OR (table_name = 'bc_caribou_herd_boundary_v20200507') OR (table_name = 'du6_bounds') OR (table_name = 'du7_bounds') OR (table_name = 'du8_bounds') OR (table_name = 'du9_bounds') OR (table_name = 'caribou_herd_vat') OR (table_name = 'caribou_herd_25');")
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'scenario_central_grp_proposed_luo') OR (table_name = 'scenario_central_grp_proposed_luo_buffer_vat') OR (table_name = 'scenario_central_grp_proposed_luo_matrix_vat') OR (table_name = 'scenario_central_grp_proposed_luo_vat') OR (table_name = 'zone_scenario_central_grp_proposed_luo') OR (table_name = 'zone_scenario_central_grp_proposed_luo_buffer') OR (table_name = 'zone_scenario_central_grp_proposed_luo_matrix') OR (table_name = 'central_grp_proposed_luo') OR (table_name = 'central_grp_proposed_luo_buffer') OR (table_name = 'central_grp_proposed_luo_matrix') OR (table_name = 'zone_cond_partnership_agreement');")
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'mtn_caribou_pa_jan_2020') OR (table_name = 'partnership_agreement_vat') OR (table_name = 'aoi_partnership_agree');")
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'criticalhabitat_bc_vat') OR (table_name = 'crithab') OR (table_name = 'criticalhabitat_barkerville_vat') OR (table_name = 'criticalhabitat_barkerville_vat') OR (table_name = 'criticalhabitat_burnt_pine_vat') OR (table_name = 'criticalhabitat_central_rockies_vat') OR (table_name = 'criticalhabitat_central_selkirks_vat') OR (table_name = 'criticalhabitat_charlotte_alplands_vat') OR (table_name = 'criticalhabitat_columbia_north_vat') OR (table_name = 'criticalhabitat_columbia_south_vat') OR (table_name = 'criticalhabitat_frisby_boulder_vat') OR (table_name = 'criticalhabitat_graham_vat') OR (table_name = 'criticalhabitat_groundhog_vat') OR (table_name = 'criticalhabitat_hart_ranges_vat') OR (table_name = 'criticalhabitat_itcha_ilgachuz_vat') OR (table_name = 'criticalhabitat_itchas_vat') OR (table_name = 'criticalhabitat_kennedy_siding_vat') OR (table_name = 'criticalhabitat_moberly_vat') OR (table_name = 'criticalhabitat_monashee_vat') OR (table_name = 'criticalhabitat_narraway_vat') OR (table_name = 'criticalhabitat_narrow_lake_vat') OR (table_name = 'criticalhabitat_north_cariboo_vat') OR (table_name = 'criticalhabitat_purcell_central_vat') OR (table_name = 'criticalhabitat_purcells_south_vat') OR (table_name = 'criticalhabitat_quintette_vat') OR (table_name = 'criticalhabitat_rainbows_vat') OR (table_name = 'criticalhabitat_redrock_prairie_creek_vat') OR (table_name = 'criticalhabitat_south_selkirks_vat');") 
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'criticalhabitat_telkwa_vat') OR (table_name = 'criticalhabitat_wells_gray_north_vat') OR (table_name = 'criticalhabitat_wells_gray_south_vat') OR (table_name = 'zone_cond_eccc_barkerville_crithab') OR (table_name = 'zone_cond_eccc_burnt_pine_crithab') OR (table_name = 'zone_cond_eccc_central_rockies_crithab') OR (table_name = 'zone_cond_eccc_central_selkirks_crithab') OR (table_name = 'zone_cond_eccc_charlotte_alplands_crithab') OR (table_name = 'zone_cond_eccc_columbia_north_crithab') OR (table_name =  'zone_cond_eccc_columbia_south_crithab') OR (table_name = 'zone_cond_eccc_frisby_boulder_crithab') OR (table_name = 'zone_cond_eccc_graham_crithab') OR (table_name = 'zone_cond_eccc_groundhog_crithab') OR (table_name = 'zone_cond_eccc_hart_ranges_crithab') OR (table_name = 'zone_cond_eccc_itcha_ilgachuz_crithab') OR (table_name = 'zone_cond_eccc_kennedy_siding_crithab') OR (table_name = 'zone_cond_eccc_moberly_crithab') OR (table_name = 'zone_cond_eccc_monashee_crithab') OR (table_name = 'zone_cond_eccc_narraway_crithab') OR (table_name = 'zone_cond_eccc_narrow_lake_crithab') OR (table_name = 'zone_cond_eccc_north_cariboo_crithab') OR (table_name = 'zone_cond_eccc_purcell_central_crithab') OR (table_name = 'zone_cond_eccc_purcells_south_crithab') OR (table_name = 'zone_cond_eccc_quintette_crithab') OR (table_name = 'zone_cond_eccc_rainbows_crithab') OR (table_name = 'zone_cond_eccc_redrock_prairie_creek_crithab') OR (table_name = 'zone_cond_eccc_south_selkirks_crithab') OR (table_name = 'zone_cond_eccc_telkwa_crithab') OR (table_name = 'zone_cond_eccc_wells_gray_north_crithab');")  
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'zone_cond_eccc_wells_gray_south_crithab') OR (table_name = 'zone_eccc_barkerville_crithab') OR (table_name = 'zone_eccc_burnt_pine_crithab') OR (table_name = 'zone_eccc_central_rockies_crithab') OR (table_name = 'zone_eccc_central_selkirks_crithab') OR (table_name = 'zone_eccc_charlotte_alplands_crithab') OR (table_name = 'zone_eccc_columbia_north_crithab') OR (table_name = 'zone_eccc_columbia_south_crithab') OR (table_name = 'zone_eccc_frisby_boulder_crithab') OR (table_name = 'zone_eccc_graham_crithab') OR (table_name = 'zone_eccc_groundhog_crithab') OR (table_name = 'zone_eccc_hart_ranges_crithab') OR (table_name = 'zone_eccc_itcha_ilgachuz_crithab') OR (table_name = 'zone_eccc_kennedy_siding_crithab') OR (table_name = 'zone_eccc_moberly_crithab') OR (table_name = 'zone_eccc_monashee_crithab') OR (table_name = 'zone_eccc_narraway_crithab') OR (table_name = 'zone_eccc_narrow_lake_crithab') OR (table_name = 'zone_eccc_north_cariboo_crithab') OR (table_name =  'zone_eccc_purcell_central_crithab') OR (table_name = 'zone_eccc_purcells_south_crithab') OR (table_name = 'zone_eccc_quintette_crithab') OR (table_name = 'zone_eccc_rainbows_crithab') OR (table_name = 'zone_eccc_redrock_prairie_creek_crithab') OR (table_name = 'zone_eccc_south_selkirks_crithab') OR (table_name = 'zone_eccc_telkwa_crithab') OR (table_name = 'zone_eccc_wells_gray_north_crithab') OR (table_name = 'zone_eccc_wells_gray_south_crithab') OR (table_name = 'zone_cond_bc_barkerville_crithab') OR (table_name = 'zone_cond_bc_burnt_pine_crithab') OR (table_name = 'zone_cond_bc_central_rockies_crithab');")  
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'zone_cond_bc_central_selkirks_crithab') OR (table_name = 'zone_cond_bc_charlotte_alplands_crithab') OR (table_name = 'zone_cond_bc_columbia_north_crithab') OR (table_name = 'zone_cond_bc_columbia_south_crithab') OR (table_name = 'zone_cond_bc_crithab') OR (table_name = 'zone_cond_bc_frisby_boulder_crithab') OR (table_name = 'zone_cond_bc_graham_crithab') OR (table_name = 'zone_cond_bc_groundhog_crithab') OR (table_name = 'zone_cond_bc_hart_ranges_crithab') OR (table_name = 'zone_cond_bc_itcha_ilgachuz_crithab') OR (table_name = 'zone_cond_bc_kennedy_siding_crithab') OR (table_name = 'zone_cond_bc_moberly_crithab') OR (table_name = 'zone_cond_bc_monashee_crithab') OR (table_name = 'zone_cond_bc_narraway_crithab') OR (table_name = 'zone_cond_bc_narrow_lake_crithab') OR (table_name = 'zone_cond_bc_north_cariboo_crithab') OR (table_name = 'zone_cond_bc_purcell_central_crithab') OR (table_name = 'zone_cond_bc_purcells_south_crithab') OR (table_name = 'zone_cond_bc_quintette_crithab') OR (table_name = 'zone_cond_bc_rainbows_crithab') OR (table_name = 'zone_cond_bc_redrock_prairie_creek_crithab') OR (table_name = 'zone_cond_bc_south_selkirks_crithab') OR (table_name = 'zone_cond_bc_telkwa_crithab') OR (table_name = 'zone_cond_bc_wells_gray_north_crithab') OR (table_name = 'zone_cond_bc_wells_gray_south_crithab') OR (table_name = 'zone_bc_barkerville_crithab') OR (table_name = 'zone_bc_burnt_pine_crithab') OR (table_name = 'zone_bc_central_rockies_crithab') OR (table_name = 'zone_bc_charlotte_alplands_crithab') OR (table_name = 'zone_bc_columbia_north_crithab') OR (table_name = 'zone_bc_columbia_south_crithab') OR (table_name = 'zone_bc_crithab') OR (table_name = 'zone_bc_frisby_boulder_crithab') OR (table_name = 'zone_bc_graham_crithab') OR (table_name = 'zone_bc_groundhog_crithab') OR (table_name = 'zone_bc_hart_ranges_crithab') OR (table_name = 'zone_bc_itcha_ilgachuz_crithab') OR (table_name = 'zone_bc_kennedy_siding_crithab') OR (table_name = 'zone_bc_moberly_crithab') OR (table_name = 'zone_bc_monashee_crithab');") 
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'zone_bc_narraway_crithab') OR (table_name = 'zone_bc_narrow_lake_crithab') OR (table_name = 'zone_bc_north_cariboo_crithab') OR (table_name = 'zone_bc_purcell_central_crithab') OR (table_name = 'zone_bc_purcells_south_crithab') OR (table_name = 'zone_bc_quintette_crithab') OR (table_name = 'zone_bc_rainbows_crithab') OR (table_name = 'zone_bc_redrock_prairie_creek_crithab') OR (table_name = 'zone_bc_south_selkirks_crithab') OR (table_name = 'zone_bc_telkwa_crithab') OR (table_name = 'zone_bc_wells_gray_north_crithab') OR (table_name = 'zone_bc_wells_gray_south_crithab') OR (table_name = 'zone_bc_bounds_atlin_noharvest') OR (table_name = 'zone_bc_bounds_barkerville_noharvest') OR (table_name = 'zone_bc_bounds_burnt_pine_noharvest') OR (table_name = 'zone_bc_bounds_calendar_noharvest') OR (table_name = 'zone_bc_bounds_carcross_noharvest') OR (table_name = 'zone_bc_bounds_central_rockies_noharvest') OR (table_name = 'zone_bc_bounds_central_selkirks_noharvest') OR (table_name = 'zone_bc_bounds_charlotte_alplands_noharvest') OR (table_name = 'zone_bc_bounds_chase_noharvest') OR (table_name = 'zone_bc_bounds_chinchaga_noharvest') OR (table_name = 'zone_bc_bounds_columbia_north_noharvest') OR (table_name = 'zone_bc_bounds_columbia_south_noharvest') OR (table_name = 'zone_bc_bounds_edziza_noharvest') OR (table_name = 'zone_bc_bounds_finlay_noharvest') OR (table_name = 'zone_bc_bounds_frisby_boulder_noharvest') OR (table_name = 'zone_bc_bounds_frog_noharvest') OR (table_name = 'zone_bc_bounds_gataga_noharvest') OR (table_name = 'zone_bc_bounds_george_mountain_noharvest') OR (table_name = 'zone_bc_bounds_graham_noharvest') OR (table_name = 'zone_bc_bounds_groundhog_noharvest') OR (table_name = 'zone_bc_bounds_hart_ranges_noharvest') OR (table_name = 'zone_bc_bounds_horseranch_noharvest') OR (table_name = 'zone_bc_bounds_itcha_ilgachuz_noharvest') OR (table_name = 'zone_bc_bounds_kennedy_siding_noharvest') OR (table_name = 'zone_bc_bounds_level_kawdy_noharvest') OR (table_name = 'zone_bc_bounds_liard_plateau_noharvest') OR (table_name = 'zone_bc_bounds_little_rancheria_noharvest') OR (table_name = 'zone_bc_bounds_maxhamish_noharvest') OR (table_name = 'zone_bc_bounds_moberly_noharvest') OR (table_name = 'zone_bc_bounds_monashee_noharvest') OR (table_name = 'zone_bc_bounds_muskwa_noharvest') OR (table_name = 'zone_bc_bounds_narraway_noharvest') OR (table_name = 'zone_bc_bounds_narrow_lake_noharvest') OR (table_name = 'zone_bc_bounds_north_cariboo_noharvest') OR (table_name = 'zone_bc_bounds_pink_mountain_noharvest') OR (table_name = 'zone_bc_bounds_purcell_central_noharvest') OR (table_name = 'zone_bc_bounds_purcells_south_noharvest') OR (table_name = 'zone_bc_bounds_quintette_noharvest') OR (table_name = 'zone_bc_bounds_rabbit_noharvest');") 
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'zone_bc_bounds_rainbows_noharvest') OR (table_name = 'zone_bc_bounds_redrock_prairie_creek_noharvest') OR (table_name = 'zone_bc_bounds_scott_noharvest') OR (table_name = 'zone_bc_bounds_snake_sahtaneh_noharvest') OR (table_name = 'zone_bc_bounds_south_selkirks_noharvest') OR (table_name = 'zone_bc_bounds_spatsizi_noharvest') OR (table_name = 'zone_bc_bounds_swan_lake_noharvest') OR (table_name = 'zone_bc_bounds_takla_noharvest') OR (table_name = 'zone_bc_bounds_telkwa_noharvest') OR (table_name = 'zone_bc_bounds_thutade_noharvest') OR (table_name = 'zone_bc_bounds_tsenaglode_noharvest') OR (table_name = 'zone_bc_bounds_tweedsmuir_noharvest') OR (table_name = 'zone_bc_bounds_wells_gray_north_noharvest') OR (table_name = 'zone_bc_bounds_wells_gray_south_noharvest') OR (table_name = 'zone_bc_bounds_westside_fort_nelson_noharvest') OR (table_name = 'zone_bc_bounds_wolverine_noharvest') OR (table_name = 'zone_bc_bounds_atlin_nh') OR (table_name = 'zone_bc_bounds_barkerville_nh') OR (table_name = 'zone_bc_bounds_burnt_pine_nh') OR (table_name = 'zone_bc_bounds_calendar_nh') OR (table_name = 'zone_bc_bounds_carcross_nh') OR (table_name = 'zone_bc_bounds_central_rockies_nh') OR (table_name = 'zone_bc_bounds_central_selkirks_nh') OR (table_name = 'zone_bc_bounds_charlotte_alplands_nh') OR (table_name = 'zone_bc_bounds_chase_nh') OR (table_name = 'zone_bc_bounds_chinchaga_nh') OR (table_name = 'zone_bc_bounds_columbia_north_nh') OR (table_name = 'zone_bc_bounds_columbia_south_nh') OR (table_name = 'zone_bc_bounds_edziza_nh') OR (table_name = 'zone_bc_bounds_finlay_nh') OR (table_name = 'zone_bc_bounds_frisby_boulder_nh') OR (table_name = 'zone_bc_bounds_frog_nh') OR (table_name = 'zone_bc_bounds_gataga_nh') OR (table_name = 'zone_bc_bounds_george_mountain_nh') OR (table_name = 'zone_bc_bounds_graham_nh') OR (table_name = 'zone_bc_bounds_groundhog_nh') OR (table_name = 'zone_bc_bounds_hart_ranges_nh') OR (table_name = 'zone_bc_bounds_horseranch_nh') OR (table_name = 'zone_bc_bounds_itcha_ilgachuz_nh') OR (table_name = 'zone_bc_bounds_kennedy_siding_nh') OR (table_name = 'zone_bc_bounds_level_kawdy_nh') OR (table_name = 'zone_bc_bounds_liard_plateau_nh') OR (table_name = 'zone_bc_bounds_little_rancheria_nh') OR (table_name = 'zone_bc_bounds_maxhamish_nh') OR (table_name = 'zone_bc_bounds_moberly_nh') OR (table_name = 'zone_bc_bounds_monashee_nh');") 
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'zone_bc_bounds_muskwa_nh') OR (table_name = 'zone_bc_bounds_narraway_nh') OR (table_name = 'zone_bc_bounds_narrow_lake_nh') OR (table_name = 'zone_bc_bounds_north_cariboo_nh') OR (table_name = 'zone_bc_bounds_pink_mountain_nh') OR (table_name = 'zone_bc_bounds_pinkmountain_nh') OR (table_name = 'zone_bc_bounds_purcell_central_nh') OR (table_name = 'zone_bc_bounds_purcells_south_nh') OR (table_name = 'zone_bc_bounds_quintette_nh') OR (table_name = 'zone_bc_bounds_rabbit_nh') OR (table_name = 'zone_bc_bounds_rainbows_nh') OR (table_name = 'zone_bc_bounds_redrock_prairie_creek_nh') OR (table_name = 'zone_bc_bounds_scott_nh') OR (table_name = 'zone_bc_bounds_snake_sahtaneh_nh') OR (table_name = 'zone_bc_bounds_south_selkirks_nh') OR (table_name = 'zone_bc_bounds_spatsizi_nh') OR (table_name = 'zone_bc_bounds_swan_lake_nh') OR (table_name = 'zone_bc_bounds_takla_nh') OR (table_name = 'zone_bc_bounds_telkwa_nh') OR (table_name = 'zone_bc_bounds_thutade_nh') OR (table_name = 'zone_bc_bounds_tsenaglode_nh') OR (table_name = 'zone_bc_bounds_tweedsmuir_nh') OR (table_name = 'zone_bc_bounds_wells_gray_north_nh') OR (table_name = 'zone_bc_bounds_wells_gray_south_nh') OR (table_name = 'zone_bc_bounds_westside_fort_nelson_nh') OR (table_name = 'zone_bc_bounds_wolverine_nh') OR (table_name = 'zone_nh_crit_barkerville_crithab') OR (table_name = 'zone_nh_crit_burnt_pine_crithab') OR (table_name = 'zone_nh_crit_central_rockies_crithab') OR (table_name = 'zone_nh_crit_central_selkirks_crithab') OR (table_name = 'zone_nh_crit_charlotte_alplands_crithab') OR (table_name = 'zone_nh_crit_columbia_north_crithab') OR (table_name = 'zone_nh_crit_columbia_south_crithab') OR (table_name = 'zone_nh_crit_frisby_boulder_crithab') OR (table_name = 'zone_nh_crit_graham_crithab') OR (table_name = 'zone_nh_crit_groundhog_crithab') OR (table_name = 'zone_nh_crit_hart_ranges_crithab') OR (table_name = 'zone_nh_crit_itcha_ilgachuz_crithab') OR (table_name = 'zone_nh_crit_kennedy_siding_crithab') OR (table_name = 'zone_nh_crit_moberly_crithab') OR (table_name = 'zone_nh_crit_monashee_crithab') OR (table_name = 'zone_nh_crit_narraway_crithab') OR (table_name = 'zone_nh_crit_narrow_lake_crithab') OR (table_name = 'zone_nh_crit_north_cariboo_crithab') OR (table_name = 'zone_nh_crit_purcell_central_crithab');") 
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'zone_nh_crit_purcells_south_crithab') OR (table_name = 'zone_nh_crit_quintette_crithab') OR (table_name = 'zone_nh_crit_rainbows_crithab') OR (table_name = 'zone_nh_crit_redrock_prairie_creek_crithab') OR (table_name = 'zone_nh_crit_south_selkirks_crithab') OR (table_name = 'zone_nh_crit_telkwa_crithab') OR (table_name = 'zone_nh_crit_wells_gray_north_crithab') OR (table_name = 'zone_nh_crit_wells_gray_south_crithab') OR (table_name = 'zone_cond_nh_crit_barkerville_crithab') OR (table_name = 'zone_cond_nh_crit_burnt_pine_crithab') OR (table_name = 'zone_cond_nh_crit_central_rockies_crithab') OR (table_name = 'zone_cond_nh_crit_central_selkirks_crithab') OR (table_name = 'zone_cond_nh_crit_charlotte_alplands_crithab') OR (table_name = 'zone_cond_nh_crit_columbia_north_crithab') OR (table_name = 'zone_cond_nh_crit_columbia_south_crithab') OR (table_name = 'zone_cond_nh_crit_frisby_boulder_crithab') OR (table_name = 'zone_cond_nh_crit_graham_crithab') OR (table_name = 'zone_cond_nh_crit_groundhog_crithab') OR (table_name = 'zone_cond_nh_crit_hart_ranges_crithab') OR (table_name = 'zone_cond_nh_crit_itcha_ilgachuz_crithab') OR (table_name = 'zone_cond_nh_crit_kennedy_siding_crithab') OR (table_name = 'zone_cond_nh_crit_moberly_crithab') OR (table_name = 'zone_cond_nh_crit_monashee_crithab') OR (table_name = 'zone_cond_nh_crit_narraway_crithab') OR (table_name = 'zone_cond_nh_crit_narrow_lake_crithab') OR (table_name = 'zone_cond_nh_crit_north_cariboo_crithab') OR (table_name = 'zone_cond_nh_crit_purcell_central_crithab') OR (table_name = 'zone_cond_nh_crit_purcells_south_crithab') OR (table_name = 'zone_cond_nh_crit_quintette_crithab') OR (table_name = 'zone_cond_nh_crit_rainbows_crithab') OR (table_name = 'zone_cond_nh_crit_redrock_prairie_creek_crithab') OR (table_name = 'zone_cond_nh_crit_south_selkirks_crithab') OR (table_name = 'zone_cond_nh_crit_telkwa_crithab') OR (table_name = 'zone_cond_nh_crit_wells_gray_north_crithab') OR (table_name = 'zone_cond_nh_crit_wells_gray_south_crithab');")
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'bc_caribou_core_matrix_habitat_v20190904_1') OR (table_name = 'bc_caribou_linework_v20200507_shp_core_matrix') OR (table_name = 'bc_critical_habitat_all_herds_20200615') OR (table_name = 'vat_bc_crithab_and_herd') OR (table_name = 'vat_criticalhabitat_atlin') OR (table_name = 'vat_criticalhabitat_barkerville') OR (table_name = 'vat_criticalhabitat_burnt_pine') OR (table_name = 'vat_criticalhabitat_calendar') OR (table_name = 'vat_criticalhabitat_carcross') OR (table_name = 'vat_criticalhabitat_central_rockies') OR (table_name = 'vat_criticalhabitat_central_selkirks') OR (table_name = 'vat_criticalhabitat_charlotte_alplands') OR (table_name = 'vat_criticalhabitat_chase') OR (table_name = 'vat_criticalhabitat_chinchaga') OR (table_name = 'vat_criticalhabitat_columbia_north') OR (table_name = 'vat_criticalhabitat_columbia_south') OR (table_name = 'vat_criticalhabitat_edziza') OR (table_name = 'vat_criticalhabitat_finlay') OR (table_name = 'vat_criticalhabitat_frisby_boulder') OR (table_name = 'vat_criticalhabitat_frog') OR (table_name = 'vat_criticalhabitat_gataga') OR (table_name = 'vat_criticalhabitat_george_mountain') OR (table_name = 'vat_criticalhabitat_graham') OR (table_name = 'vat_criticalhabitat_groundhog') OR (table_name = 'vat_criticalhabitat_hart_ranges') OR (table_name = 'vat_criticalhabitat_horseranch') OR (table_name = 'vat_criticalhabitat_itcha_ilgachuz') OR (table_name = 'vat_criticalhabitat_kennedy_siding') OR (table_name = 'vat_criticalhabitat_level_kawdy') OR (table_name = 'vat_criticalhabitat_liard_plateau') OR (table_name = 'vat_criticalhabitat_little_rancheria') OR (table_name = 'vat_criticalhabitat_maxhamish') OR (table_name = 'vat_criticalhabitat_moberly') OR (table_name = 'vat_criticalhabitat_monashee') OR (table_name = 'vat_criticalhabitat_muskwa') OR (table_name = 'vat_criticalhabitat_narraway') OR (table_name = 'vat_criticalhabitat_narrow_lake') OR (table_name = 'vat_criticalhabitat_north_cariboo') OR (table_name = 'vat_criticalhabitat_pink_mountain') OR (table_name = 'vat_criticalhabitat_purcell_central') OR (table_name = 'vat_criticalhabitat_purcells_south') OR (table_name = 'vat_criticalhabitat_quintette') OR (table_name = 'vat_criticalhabitat_rabbit') OR (table_name = 'vat_criticalhabitat_rainbows') OR (table_name = 'vat_criticalhabitat_redrock_prairie_creek') OR (table_name = 'vat_criticalhabitat_scott') OR (table_name = 'vat_criticalhabitat_snake_sahtaneh') OR (table_name = 'vat_criticalhabitat_south_selkirks') OR (table_name = 'vat_criticalhabitat_spatsizi') OR (table_name = 'vat_criticalhabitat_swan_lake') OR (table_name = 'vat_criticalhabitat_takla') OR (table_name = 'vat_criticalhabitat_telkwa') OR (table_name = 'vat_criticalhabitat_thutade') OR (table_name = 'vat_criticalhabitat_tsenaglode') OR (table_name = 'vat_criticalhabitat_tweedsmuir') OR (table_name = 'vat_criticalhabitat_wells_gray_north') OR (table_name = 'vat_criticalhabitat_wells_gray_south') OR (table_name = 'vat_criticalhabitat_westside_fort_nelson') OR (table_name = 'vat_criticalhabitat_wolverine');")
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where  (table_name = 'zone_eccc_atlin_crithab_or_herd') OR (table_name = 'zone_eccc_barkerville_crithab_or_herd') OR (table_name = 'zone_eccc_burnt_pine_crithab_or_herd') OR (table_name = 'zone_eccc_calendar_crithab_or_herd') OR (table_name = 'zone_eccc_carcross_crithab_or_herd') OR (table_name = 'zone_eccc_central_rockies_crithab_or_herd') OR (table_name = 'zone_eccc_central_selkirks_crithab_or_herd') OR (table_name = 'zone_eccc_charlotte_alplands_crithab_or_herd') OR (table_name = 'zone_eccc_chase_crithab_or_herd') OR (table_name = 'zone_eccc_chinchaga_crithab_or_herd') OR (table_name = 'zone_eccc_columbia_north_crithab_or_herd') OR (table_name = 'zone_eccc_columbia_south_crithab_or_herd') OR (table_name = 'zone_eccc_edziza_crithab_or_herd') OR (table_name = 'zone_eccc_finlay_crithab_or_herd') OR (table_name = 'zone_eccc_frisby_boulder_crithab_or_herd') OR (table_name = 'zone_eccc_frog_crithab_or_herd') OR (table_name = 'zone_eccc_gataga_crithab_or_herd') OR (table_name = 'zone_eccc_george_mountain_crithab_or_herd') OR (table_name = 'zone_eccc_graham_crithab_or_herd') OR (table_name = 'zone_eccc_groundhog_crithab_or_herd') OR (table_name = 'zone_eccc_hart_ranges_crithab_or_herd') OR (table_name = 'zone_eccc_horseranch_crithab_or_herd') OR (table_name = 'zone_eccc_itcha_ilgachuz_crithab_or_herd') OR (table_name = 'zone_eccc_kennedy_siding_crithab_or_herd') OR (table_name = 'zone_eccc_level_kawdy_crithab_or_herd') OR (table_name = 'zone_eccc_liard_plateau_crithab_or_herd') OR (table_name = 'zone_eccc_little_rancheria_crithab_or_herd') OR (table_name = 'zone_eccc_maxhamish_crithab_or_herd') OR (table_name = 'zone_eccc_moberly_crithab_or_herd') OR (table_name = 'zone_eccc_monashee_crithab_or_herd') OR (table_name = 'zone_eccc_muskwa_crithab_or_herd') OR (table_name = 'zone_eccc_narraway_crithab_or_herd') OR (table_name = 'zone_eccc_narrow_lake_crithab_or_herd') OR (table_name = 'zone_eccc_north_cariboo_crithab_or_herd') OR (table_name = 'zone_eccc_pink_mountain_crithab_or_herd') OR (table_name = 'zone_eccc_purcell_central_crithab_or_herd') OR (table_name = 'zone_eccc_purcells_south_crithab_or_herd') OR (table_name = 'zone_eccc_quintette_crithab_or_herd') OR (table_name = 'zone_eccc_rabbit_crithab_or_herd') OR (table_name = 'zone_eccc_rainbows_crithab_or_herd') OR (table_name = 'zone_eccc_redrock_prairie_creek_crithab_or_herd') OR (table_name = 'zone_eccc_scott_crithab_or_herd') OR (table_name = 'zone_eccc_snake_sahtaneh_crithab_or_herd') OR (table_name = 'zone_eccc_south_selkirks_crithab_or_herd') OR (table_name = 'zone_eccc_spatsizi_crithab_or_herd') OR (table_name = 'zone_eccc_swan_lake_crithab_or_herd') OR (table_name = 'zone_eccc_takla_crithab_or_herd') OR (table_name = 'zone_eccc_telkwa_crithab_or_herd') OR (table_name = 'zone_eccc_thutade_crithab_or_herd') OR (table_name = 'zone_eccc_tsenaglode_crithab_or_herd') OR (table_name = 'zone_eccc_tweedsmuir_crithab_or_herd') OR (table_name = 'zone_eccc_wells_gray_north_crithab_or_herd') OR (table_name = 'zone_eccc_wells_gray_south_crithab_or_herd') OR (table_name = 'zone_eccc_westside_fort_nelson_crithab_or_herd') OR (table_name = 'zone_eccc_wolverine_crithab_or_herd');")
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'zone_noharvest_atlin_crithab_or_herd') OR (table_name = 'zone_noharvest_barkerville_crithab_or_herd') OR (table_name = 'zone_noharvest_burnt_pine_crithab_or_herd') OR (table_name = 'zone_noharvest_calendar_crithab_or_herd') OR (table_name = 'zone_noharvest_carcross_crithab_or_herd') OR (table_name = 'zone_noharvest_central_rockies_crithab_or_herd') OR (table_name = 'zone_noharvest_central_selkirks_crithab_or_herd') OR (table_name = 'zone_noharvest_charlotte_alplands_crithab_or_herd') OR (table_name = 'zone_noharvest_chase_crithab_or_herd') OR (table_name = 'zone_noharvest_chinchaga_crithab_or_herd') OR (table_name = 'zone_noharvest_columbia_north_crithab_or_herd') OR (table_name = 'zone_noharvest_columbia_south_crithab_or_herd') OR (table_name = 'zone_noharvest_edziza_crithab_or_herd') OR (table_name = 'zone_noharvest_finlay_crithab_or_herd') OR (table_name = 'zone_noharvest_frisby_boulder_crithab_or_herd') OR (table_name = 'zone_noharvest_frog_crithab_or_herd') OR (table_name = 'zone_noharvest_gataga_crithab_or_herd') OR (table_name = 'zone_noharvest_george_mountain_crithab_or_herd') OR (table_name = 'zone_noharvest_graham_crithab_or_herd') OR (table_name = 'zone_noharvest_groundhog_crithab_or_herd') OR (table_name = 'zone_noharvest_hart_ranges_crithab_or_herd') OR (table_name = 'zone_noharvest_horseranch_crithab_or_herd') OR (table_name = 'zone_noharvest_itcha_ilgachuz_crithab_or_herd') OR (table_name = 'zone_noharvest_kennedy_siding_crithab_or_herd') OR (table_name = 'zone_noharvest_level_kawdy_crithab_or_herd') OR (table_name = 'zone_noharvest_liard_plateau_crithab_or_herd') OR (table_name = 'zone_noharvest_little_rancheria_crithab_or_herd') OR (table_name = 'zone_noharvest_maxhamish_crithab_or_herd') OR (table_name = 'zone_noharvest_moberly_crithab_or_herd') OR (table_name = 'zone_noharvest_monashee_crithab_or_herd') OR (table_name = 'zone_noharvest_muskwa_crithab_or_herd') OR (table_name = 'zone_noharvest_narraway_crithab_or_herd') OR (table_name = 'zone_noharvest_narrow_lake_crithab_or_herd') OR (table_name = 'zone_noharvest_north_cariboo_crithab_or_herd') OR (table_name = 'zone_noharvest_pink_mountain_crithab_or_herd') OR (table_name = 'zone_noharvest_purcell_central_crithab_or_herd') OR (table_name = 'zone_noharvest_purcells_south_crithab_or_herd') OR (table_name = 'zone_noharvest_quintette_crithab_or_herd') OR (table_name = 'zone_noharvest_rabbit_crithab_or_herd') OR (table_name = 'zone_noharvest_rainbows_crithab_or_herd') OR (table_name = 'zone_noharvest_redrock_prairie_creek_crithab_or_herd') OR (table_name = 'zone_noharvest_scott_crithab_or_herd') OR (table_name = 'zone_noharvest_snake_sahtaneh_crithab_or_herd') OR (table_name = 'zone_noharvest_south_selkirks_crithab_or_herd') OR (table_name = 'zone_noharvest_spatsizi_crithab_or_herd') OR (table_name = 'zone_noharvest_swan_lake_crithab_or_herd') OR (table_name = 'zone_noharvest_takla_crithab_or_herd') OR (table_name = 'zone_noharvest_telkwa_crithab_or_herd') OR (table_name = 'zone_noharvest_thutade_crithab_or_herd') OR (table_name = 'zone_noharvest_tsenaglode_crithab_or_herd') OR (table_name = 'zone_noharvest_tweedsmuir_crithab_or_herd') OR (table_name = 'zone_noharvest_wells_gray_north_crithab_or_herd') OR (table_name = 'zone_noharvest_wells_gray_south_crithab_or_herd') OR (table_name = 'zone_noharvest_westside_fort_nelson_crithab_or_herd') OR (table_name = 'zone_noharvest_wolverine_crithab_or_herd');")
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'bc_crithab') OR (table_name = 'bc_crithab_and_herd') OR (table_name = 'zone_cond_crithab') OR (table_name = 'zone_cond_eccc_atlin_crithab_or_herd') OR (table_name = 'zone_cond_eccc_barkerville_crithab_or_herd') OR (table_name = 'zone_cond_eccc_burnt_pine_crithab_or_herd') OR (table_name = 'zone_cond_eccc_calendar_crithab_or_herd') OR (table_name = 'zone_cond_eccc_carcross_crithab_or_herd') OR (table_name = 'zone_cond_eccc_central_rockies_crithab_or_herd') OR (table_name = 'zone_cond_eccc_central_selkirks_crithab_or_herd') OR (table_name = 'zone_cond_eccc_charlotte_alplands_crithab_or_herd') OR (table_name = 'zone_cond_eccc_chase_crithab_or_herd') OR (table_name = 'zone_cond_eccc_chinchaga_crithab_or_herd') OR (table_name = 'zone_cond_eccc_columbia_north_crithab_or_herd') OR (table_name = 'zone_cond_eccc_columbia_south_crithab_or_herd') OR (table_name = 'zone_cond_eccc_edziza_crithab_or_herd') OR (table_name = 'zone_cond_eccc_finlay_crithab_or_herd') OR (table_name = 'zone_cond_eccc_frisby_boulder_crithab_or_herd') OR (table_name = 'zone_cond_eccc_frog_crithab_or_herd') OR (table_name = 'zone_cond_eccc_gataga_crithab_or_herd') OR (table_name = 'zone_cond_eccc_george_mountain_crithab_or_herd') OR (table_name = 'zone_cond_eccc_graham_crithab_or_herd') OR (table_name = 'zone_cond_eccc_groundhog_crithab_or_herd') OR (table_name = 'zone_cond_eccc_hart_ranges_crithab_or_herd') OR (table_name = 'zone_cond_eccc_horseranch_crithab_or_herd') OR (table_name = 'zone_cond_eccc_itcha_ilgachuz_crithab_or_herd') OR (table_name = 'zone_cond_eccc_kennedy_siding_crithab_or_herd') OR (table_name = 'zone_cond_eccc_level_kawdy_crithab_or_herd') OR (table_name = 'zone_cond_eccc_liard_plateau_crithab_or_herd') OR (table_name = 'zone_cond_eccc_little_rancheria_crithab_or_herd') OR (table_name = 'zone_cond_eccc_maxhamish_crithab_or_herd') OR (table_name = 'zone_cond_eccc_moberly_crithab_or_herd') OR (table_name = 'zone_cond_eccc_monashee_crithab_or_herd') OR (table_name = 'zone_cond_eccc_muskwa_crithab_or_herd') OR (table_name = 'zone_cond_eccc_narraway_crithab_or_herd') OR (table_name = 'zone_cond_eccc_narrow_lake_crithab_or_herd') OR (table_name = 'zone_cond_eccc_north_cariboo_crithab_or_herd') OR (table_name = 'zone_cond_eccc_pink_mountain_crithab_or_herd') OR (table_name = 'zone_cond_eccc_purcell_central_crithab_or_herd') OR (table_name = 'zone_cond_eccc_purcells_south_crithab_or_herd') OR (table_name = 'zone_cond_eccc_quintette_crithab_or_herd') OR (table_name = 'zone_cond_eccc_rainbows_crithab_or_herd') OR (table_name = 'zone_cond_eccc_redrock_prairie_creek_crithab_or_herd') OR (table_name = 'zone_cond_eccc_snake_sahtaneh_crithab_or_herd') OR (table_name = 'zone_cond_eccc_south_selkirks_crithab_or_herd') OR (table_name = 'zone_cond_eccc_swan_lake_crithab_or_herd') OR (table_name = 'zone_cond_eccc_takla_crithab_or_herd') OR (table_name = 'zone_cond_eccc_telkwa_crithab_or_herd') OR (table_name = 'zone_cond_eccc_thutade_crithab_or_herd') OR (table_name = 'zone_cond_eccc_tsenaglode_crithab_or_herd') OR (table_name = 'zone_cond_eccc_tweedsmuir_crithab_or_herd') OR (table_name = 'zone_cond_eccc_wells_gray_north_crithab_or_herd') OR (table_name = 'zone_cond_eccc_wells_gray_south_crithab_or_herd') OR (table_name = 'zone_cond_eccc_westside_fort_nelson_crithab_or_herd') OR (table_name = 'zone_cond_eccc_wolverine_crithab_or_herd');")
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'zone_cond_noharvest_atlin_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_barkerville_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_burnt_pine_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_calendar_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_carcross_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_central_rockies_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_central_selkirks_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_charlotte_alplands_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_chase_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_chinchaga_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_columbia_north_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_columbia_south_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_edziza_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_finlay_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_frisby_boulder_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_frog_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_gataga_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_george_mountain_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_graham_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_groundhog_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_hart_ranges_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_horseranch_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_itcha_ilgachuz_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_kennedy_siding_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_level_kawdy_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_liard_plateau_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_little_rancheria_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_maxhamish_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_moberly_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_monashee_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_muskwa_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_narraway_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_narrow_lake_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_north_cariboo_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_pink_mountain_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_purcell_central_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_purcells_south_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_quintette_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_rabbit_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_rainbows_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_redrock_prairie_creek_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_scott_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_snake_sahtaneh_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_south_selkirks_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_spatsizi_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_swan_lake_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_takla_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_telkwa_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_thutade_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_tsenaglode_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_tweedsmuir_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_wells_gray_north_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_wells_gray_south_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_westside_fort_nelson_crithab_or_herd') OR (table_name = 'zone_cond_noharvest_wolverine_crithab_or_herd');")
dbExecute (conn, "UPDATE public.pgdbs_data_list set script = 'clus\\R\\Params\\caribou_management_areas.Rmd' where (table_name = 'zone_bc_central_selkirks_crithab') OR (table_name = 'zone_crithab') OR (table_name = 'zone_cond_eccc_rabbit_crithab_or_herd') OR (table_name = 'zone_cond_eccc_spatsizi_crithab_or_herd') OR (table_name = 'zone_cond_eccc_scott_crithab_or_herd');")
# Create new data entry for Revelstoke Scenarios
reve_data <- data.table (computer = 'DC052586', 
                         database = 'clus', 
                         schema = 'public', 
                         table_name = 'reve_ernst_20201201', 
                         type = 'polygon', 
                         script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                         source = 'Bevan Ernst, FLNRORD', 
                         public = 'No', 
                         last_updated = '2020', 
                         next_update = 'as needed', 
                         where_used = 'dataLoaderCLUS' 
                         )
pgdbs_data_list <- getTableQuery ("SELECT * from public.pgdbs_data_list;")
pgdbs_data_list_new <- merge (pgdbs_data_list, reve_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new, 
                  row.names = FALSE, overwrite = TRUE)
reve_raster_data <- data.table (computer = 'DC052586', database = 'clus', schema = 'rast', table_name = 'zond_cond_reve_area', type = 'raster', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Bevan Ernst, FLNRORD', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
pgdbs_data_list_new2 <- merge (pgdbs_data_list, reve_raster_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new2, 
                  row.names = FALSE, overwrite = TRUE)
reve_data2 <- data.table (computer = 'DC052586', database = 'clus', schema = 'public', table_name = 'zone_reve_vat', type = 'table', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Bevan Ernst, FLNRORD', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
reve_data3 <- data.table (computer = 'DC052586', database = 'clus', schema = 'zone', table_name = 'zone_reve_area', type = 'table', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Bevan Ernst, FLNRORD', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
pgdbs_data_list <- merge (pgdbs_data_list, reve_data2, all = T)
pgdbs_data_list <- merge (pgdbs_data_list, reve_data3, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)

# New zone data for DU9 Scenarios 2021-01
du9_data <- data.table (computer = 'DC052586', 
                         database = 'clus', 
                         schema = 'public', 
                         table_name = 'old_recruit_buff_matrix_fin', 
                         type = 'polygon', 
                         script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                         source = 'Bevan Ernst, FLNRORD', 
                         public = 'No', 
                         last_updated = '2020', 
                         next_update = 'as needed', 
                         where_used = 'dataLoaderCLUS' 
                         )
pgdbs_data_list <- getTableQuery ("SELECT * from public.pgdbs_data_list;")
pgdbs_data_list_new <- merge (pgdbs_data_list, du9_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new, 
                  row.names = FALSE, overwrite = TRUE)
du9_raster_data <- data.table (computer = 'DC052586', database = 'clus', schema = 'rast', table_name = 'zone_du9_scenarios', type = 'raster', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Bevan Ernst, FLNRORD', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
pgdbs_data_list_new2 <- merge (pgdbs_data_list, du9_raster_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new2, 
                  row.names = FALSE, overwrite = TRUE)
du9_data2 <- data.table (computer = 'DC052586', database = 'clus', schema = 'public', table_name = 'zone_du9_scenarios_vat', type = 'table', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Bevan Ernst, FLNRORD', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
du9_data3 <- data.table (computer = 'DC052586', database = 'clus', schema = 'zone', table_name = 'zone_du9_scenarios', type = 'table', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Bevan Ernst, FLNRORD', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
pgdbs_data_list <- merge (pgdbs_data_list, du9_data2, all = T)
pgdbs_data_list <- merge (pgdbs_data_list, du9_data3, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)

## New zone data for Groundhog 2021-01
du9_data <- data.table (computer = 'DC052586', 
                         database = 'clus', 
                         schema = 'public', 
                         table_name = 'gh_old_recruit_buff_matrix_fin', 
                         type = 'polygon', 
                         script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                         source = 'Bevan Ernst, FLNRORD; du9 scenario for groundhog only', 
                         public = 'No', 
                         last_updated = '2020', 
                         next_update = 'as needed', 
                         where_used = 'dataLoaderCLUS' 
                         )
pgdbs_data_list <- getTableQuery ("SELECT * from public.pgdbs_data_list;")
pgdbs_data_list_new <- merge (pgdbs_data_list, du9_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new, 
                  row.names = FALSE, overwrite = TRUE)

gh_raster_data <- data.table (computer = 'DC052586', database = 'clus', schema = 'rast', table_name = 'rast.zone_gh_scenarios', type = 'raster', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Bevan Ernst, FLNRORD; du9 scenario for groundhog only', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
pgdbs_data_list_new2 <- merge (pgdbs_data_list, gh_raster_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new2, 
                  row.names = FALSE, overwrite = TRUE)

gh_data2 <- data.table (computer = 'DC052586', database = 'clus', schema = 'public', table_name = 'zone_gh_scenarios_vat', type = 'table', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Bevan Ernst, FLNRORD', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
gh_data3 <- data.table (computer = 'DC052586', database = 'clus', schema = 'zone', table_name = 'zone_gh_scenarios', type = 'table', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Bevan Ernst, FLNRORD', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
pgdbs_data_list <- merge (pgdbs_data_list, gh_data2, all = T)
pgdbs_data_list <- merge (pgdbs_data_list, gh_data3, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)

# New Central Group LUO boundary (Feb. 2021)
luo_data <- data.table (computer = 'DC052586', 
                         database = 'clus', 
                         schema = 'public', 
                         table_name = 'scenario_luo_outer_20210216', 
                         type = 'polygon', 
                         script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                         source = 'Russ Laroche; Draft Partnership Land Use Orders', 
                         public = 'No', 
                         last_updated = '2021', 
                         next_update = 'as needed', 
                         where_used = 'dataLoaderCLUS' 
                         )
pgdbs_data_list <- getTableQuery ("SELECT * from public.pgdbs_data_list;")
pgdbs_data_list_new <- merge (pgdbs_data_list, luo_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new, 
                  row.names = FALSE, overwrite = TRUE)

raster_data <- data.table (computer = 'DC052586', database = 'clus', schema = 'rast', table_name = 'central_grp_proposed_luo_feb2021', type = 'raster', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Russ Laroche; Draft Partnership Land Use Orders', public = 'No', last_updated = '2021', next_update = 'as needed', where_used = 'dataLoaderCLUS')
pgdbs_data_list_new2 <- merge (pgdbs_data_list, raster_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new2, 
                  row.names = FALSE, overwrite = TRUE)


data2 <- data.table (computer = 'DC052586', database = 'clus', schema = 'public', table_name = 'scenario_central_grp_proposed_luo_feb2021_vat', type = 'table', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Russ Laroche; Draft Partnership Land Use Orders', public = 'No', last_updated = '2021', next_update = 'as needed', where_used = 'dataLoaderCLUS')
data3 <- data.table (computer = 'DC052586', database = 'clus', schema = 'zone', table_name = 'zone_scenario_central_grp_proposed_luo_feb2021', type = 'table', script = 'clus\\R\\Params\\caribou_management_areas.Rmd', source = 'Russ Laroche; Draft Partnership Land Use Orders', public = 'No', last_updated = '2020', next_update = 'as needed', where_used = 'dataLoaderCLUS')
pgdbs_data_list <- merge (pgdbs_data_list, data2, all = T)
pgdbs_data_list <- merge (pgdbs_data_list, data3, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)

# New Barkerville and Groundhog Zones March 3, 2021
new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'zones_barkerville_groundhog_20210303', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Bevan Ernst, FLNRORD', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS; for TSAs where these herds overlap' 
                        )
# merge tables
pgdbs_data_list <- merge (pgdbs_data_list, new_data, all = T)

new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'zone_barkerville_groundhog_zones_20210303', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Bevan Ernst, FLNRORD', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data2, all = T)

new_data3 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'zone_barkerville_groundhog_scenarios_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Bevan Ernst, FLNRORD', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data3, all = T)

new_data4 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'zone', 
                        table_name = 'zone_barkerville_groundhog_scenario', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Bevan Ernst, FLNRORD', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data4, all = T)

DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)



# New DU7 Zones March 5, 2021
new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'northern_group_scenario_20210305', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Bevan Ernst, FLNRORD; priority stands and critical habitat.', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data, all = T)

new_data1 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'zone_du7_scenario_20210305', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Bevan Ernst, FLNRORD; priority stands and critical habitat.', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data1, all = T)

new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'zone_du7_scenarios_20210305_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Bevan Ernst, FLNRORD; priority stands and critical habitat.', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data2, all = T)

new_data3 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'zone', 
                        table_name = 'zone_du7_scenarios_20210305', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Bevan Ernst, FLNRORD; priority stands and critical habitat.', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data3, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)


# New DU9 Zones March 15, 2021
new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'smc_scenarios_20210315', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Bevan Ernst, FLNRORD; priority stands and critical habitat in DU9 caribou.', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data, all = T)

new_data2 <- data.table (computer = 'DC052586', 
                         database = 'clus',
                         schema = 'rast', 
                         table_name = 'zone_smc_zones_20210315', 
                         type = 'raster', 
                         script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                         source = 'Bevan Ernst, FLNRORD; priority stands and critical habitat in DU9 caribou.', 
                         public = 'No', 
                         last_updated = '2021',
                         next_update = 'as needed', 
                         where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data2, all = T)

new_data3 <- data.table (computer = 'DC052586', 
                         database = 'clus',
                         schema = 'public', 
                         table_name = 'zone_cond_du9_scenarios_vat', 
                         type = 'raster', 
                         script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                         source = 'Bevan Ernst, FLNRORD; priority stands and critical habitat in DU9 caribou.', 
                         public = 'No', 
                         last_updated = '2021',
                         next_update = 'as needed', 
                         where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data3, all = T)

new_data4 <- data.table (computer = 'DC052586', 
                         database = 'clus',
                         schema = 'zone', 
                         table_name = 'zone_cond_du9_scenarios', 
                         type = 'raster', 
                         script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                         source = 'Bevan Ernst, FLNRORD; priority stands and critical habitat in DU9 caribou.', 
                         public = 'No', 
                         last_updated = '2021',
                         next_update = 'as needed', 
                         where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data4, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)
dbExecute (conn, "UPDATE zone.pgdbs_data_list set where_used = 'deprecated' where table_name = 'zone_du9_scenarios';")
dbExecute (conn, "UPDATE public.pgdbs_data_list set where_used = 'deprecated' where table_name = 'zone_du9_scenarios_vat';")
#select<-dbGetQuery(conn, "SELECT * from public.pgdbs_data_list WHERE table_name = 'zone_du9_scenarios_vat'") 

# ECCC study area for Southern Mountain Caribou; for historic road analysis
new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'eccc_smc_aoi_20210329', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Robin Steenweg/Emily Sunter, Environment and Climate Change Canada', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'historicdataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data, all = T)

DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)

# New DU7/northern group Zones March 30, 2021
new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'northern_group_scenario_20210330', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Bevan Ernst, FLNRORD; priority stands and zonesin DU7/northern group caribou.', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)
new_data1 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'zone_du7_scenario_20210330', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Bevan Ernst, FLNRORD; priority stands and zones in DU7/northern group caribou.', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data1, all = T)

new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'zone_cond_du7_scenarios_20210330_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Bevan Ernst, FLNRORD; priority stands and zones in DU7/northern group caribou.', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data2, all = T)

new_data3 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'zone', 
                        table_name = 'zone_cond_du7_scenarios_20210330', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Bevan Ernst, FLNRORD; priority stands and zones in DU7/northern group caribou.', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data3, all = T)

DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)

## Archive the previous DU7 scenario
dbExecute (conn, 
           "SELECT * INTO archive.northern_group_scenario_20210305 FROM public.northern_group_scenario_20210305;")
dbExecute (conn, 
           "DROP TABLE public.northern_group_scenario_20210305;")
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set where_used = 'archive' where table_name = 'northern_group_scenario_20210305';") 
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set schema = 'archive' where table_name = 'northern_group_scenario_20210305';") 
dbExecute (conn, "UPDATE public.pgdbs_data_list set where_used = 'deprecated' where table_name = 'northern_group_scenario_20210305';")

dbExecute (conn, 
           "SELECT * INTO archive.zone_du7_scenario_20210305 FROM rast.zone_du7_scenario_20210305;")
dbExecute (conn, 
           "DROP TABLE rast.zone_du7_scenario_20210305;")
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set where_used = 'archive' where table_name = 'zone_du7_scenario_20210305';") 
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set schema = 'archive' where table_name = 'zone_du7_scenario_20210305';") 
dbExecute (conn, "UPDATE public.pgdbs_data_list set where_used = 'deprecated' where table_name = 'zone_du7_scenario_20210305';")

dbExecute (conn, 
           "SELECT * INTO archive.zone_du7_scenarios_202103055 FROM public.zone_du7_scenarios_20210305;")
dbExecute (conn, 
           "DROP TABLE public.zone_du7_scenarios_20210305;")
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set where_used = 'archive' where table_name = 'zone_du7_scenarios_20210305';") 
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set schema = 'archive' where table_name = 'zone_du7_scenarios_20210305';") 
dbExecute (conn, "UPDATE public.pgdbs_data_list set where_used = 'deprecated' where table_name = 'zone_du7_scenarios_20210305';")

dbExecute (conn, 
           "SELECT * INTO archive.zone_du7_scenarios_20210305_vat FROM public.zone_du7_scenarios_20210305_vat;")
dbExecute (conn, 
           "DROP TABLE public.zone_du7_scenarios_20210305_vat;")
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set where_used = 'archive' where table_name = 'zone_du7_scenarios_20210305_vat';") 
dbExecute (conn, 
           "UPDATE public.pgdbs_data_list set schema = 'archive' where table_name = 'zone_du7_scenarios_20210305_vat';") 
dbExecute (conn, "UPDATE public.pgdbs_data_list set where_used = 'deprecated' where table_name = 'zone_du7_scenarios_20210305_vat';")

# Added some NW coastal TSAs needed for DU7 caribou analysis
new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'tsa_nw_coast_no_tfl', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Includes Kalum, Pacific and Cascadia TSA Block 10, with TFLs clipped out; sourced from WHSE_ADMIN_BOUNDARIES.FADM_TSA', 
                        public = 'Yes', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)

new_data1 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'tsa_aac_bounds_nw_coast_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\study_area_boundaries.Rmd', 
                        source = 'TSA boundary VAT; exclusively includes Kalum, Pacific and Cascadia TSA Block 10, with TFLs clipped out; sourced from WHSE_ADMIN_BOUNDARIES.FADM_TSA', 
                        public = 'Yes', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data1, all = T)

new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'tsa_aac_bound_nw_coast', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\study_area_boundaries.Rmd', 
                        source = 'TSA boundary raster; exclusively includes Kalum, Pacific and Cascadia TSA Block 10, with TFLs clipped out; sourced from WHSE_ADMIN_BOUNDARIES.FADM_TSA', 
                        public = 'Yes', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data2, all = T)
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)

# Made changes from 'public' to 'zone schema in excel

new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_wha_may2021_no_harvest', 
                        type = 'polygon', 
                        script = 'ogr2ogr', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), no harvest zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data, all = T)

new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_wha_may2021_smz_calving', 
                        type = 'polygon', 
                        script = 'ogr2ogr', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), calving special management zones (SMZ) only, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data2, all = T)

new_data3 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_wha_may2021_smz_he', 
                        type = 'polygon', 
                        script = 'ogr2ogr', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), high elevation special management zones (SMZ) only, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data3, all = T)

new_data4 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_wha_may2021_smz_move', 
                        type = 'polygon', 
                        script = 'ogr2ogr', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), movement corridor special management zones (SMZ) only, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data4, all = T)

new_data5 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_wha_may2021_manage', 
                        type = 'polygon', 
                        script = 'ogr2ogr', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), management zones (SMZ) only, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data5, all = T)

new_data6 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_wha_may2021_bec', 
                        type = 'polygon', 
                        script = 'ogr2ogr', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), BEC zones only, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data6, all = T)


DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)

new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'whitesail_noharvest_20210527', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), no harvest zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data, all = T)

new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_noharvest_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), no harvest zones, value attribute table May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data2, all = T)

new_data3 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'zone', 
                        table_name = 'whitesail_noharvest_20210527', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), no harvest zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data3, all = T)

new_data4 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'whitesail_smz_calving_20210527', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), calving special management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data4, all = T)

new_data5 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'zone', 
                        table_name = 'whitesail_smz_calving_20210527', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), calving special management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data5, all = T)

new_data6 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'whitesail_smz_highelev_20210527', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), high elevation special management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data6, all = T)

new_data7 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_smz_highelev_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), high elevation special management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data7, all = T)

new_data8 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'zone', 
                        table_name = 'whitesail_smz_highelev_20210527', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), high elevation special management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data8, all = T)

new_data9 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'whitesail_smz_movecorr_20210527', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), movement corridor special management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data9, all = T)

new_data10 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_smz_movecorr_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), movement corridor special management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data10, all = T)

new_data11 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'zone', 
                        table_name = 'whitesail_smz_movecorr_2021052', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), movement corridor special management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data11, all = T)

new_data12 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'whitesail_management_20210527', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data12, all = T)

new_data13 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_management_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data13, all = T)

new_data14 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'zone', 
                        table_name = 'whitesail_management_20210527', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), management zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data14, all = T)

new_data15 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'rast', 
                        table_name = 'whitesail_bec_20210527', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), BEC zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data15, all = T)

new_data16 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'public', 
                        table_name = 'whitesail_bec_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), BEC zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data16, all = T)

new_data17 <- data.table (computer = 'DC052586', 
                        database = 'clus',
                        schema = 'zone', 
                        table_name = 'whitesail_bec_20210527', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\caribou_management_areas.Rmd', 
                        source = 'Proposed Whitesail wildlife habitat area (WHA), BEC zones, May 2021; source: Mark Wong', 
                        public = 'No', 
                        last_updated = '2021',
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
pgdbs_data_list <- merge (pgdbs_data_list, new_data17, all = T)

DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list, 
                  row.names = FALSE, overwrite = TRUE)
dbDisconnect(conn)


new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'corepolys_pinkmnt_diss', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the core habitat areas for the Pink Mtn caribou herd.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'fn_aoi', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate First Nations areas of interest.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data3 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'graham_core_20200623', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the core habitat areas for the Graham caribou herd.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data4 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'fsj_old_vri_diss', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate old forest areas, as defined by old growth report recommendations', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data5 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'BRFNProtectionRestorationMay2021', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate old Blueberry River First Nations protection and restoration areas.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data6 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'rast',
                        table_name = 'pink_mtn_habitat', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the core habitat areas for the Pink Mtn caribou herd.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data7 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'pink_mtn_caribou_habitat_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the core habitat areas for the Pink Mtn caribou herd.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data8 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'zone',
                        table_name = 'pink_mtn_caribou_habitat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the core habitat areas for the Pink Mtn caribou herd.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data9 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'rast',
                        table_name = 'fn_aoi_fsj_tsa', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate First Nations areas of interest.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data10 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'fn_aoi_fsj_tsa_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate First Nations areas of interest.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data11 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'zone',
                        table_name = 'fn_aoi_fsj_tsa', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate First Nations areas of interest.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data12 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'rast',
                        table_name = 'graham_caribou_core_habitat', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the core habitat areas for the Graham caribou herd.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data13 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'graham_core_caribou_habitat_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the core habitat areas for the Graham caribou herd.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data14 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'zone',
                        table_name = 'graham_core_caribou_habitat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the core habitat areas for the Graham caribou herd.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data15 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'rast',
                        table_name = 'old_growth_fsj_tsa', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate old forest areas, as defined by old growth report recommendations', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data16 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'zone',
                        table_name = 'old_growth_fsj_tsa', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate old forest areas, as defined by old growth report recommendations', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data17 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'rast',
                        table_name = 'brfn_areas_fsj', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate old Blueberry River First Nations protection and restoration areas.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data18 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'zone',
                        table_name = 'brfn_areas_fsj', 
                        type = 'tables', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate old Blueberry River First Nations protection and restoration areas.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
# merge tables
pgdbs_data_list_new <- Reduce (function(dtf1, dtf2) merge (dtf1, dtf2, all = TRUE), 
                               list (pgdbs_data_list, new_data, new_data2, new_data3, new_data4, new_data5, new_data6,
                                     new_data7, new_data8, new_data9, new_data10, new_data11, new_data12, new_data13,
                                     new_data14, new_data15, new_data16, new_data17, new_data18))
# re-upload data to postgres
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new, 
                  row.names = FALSE, overwrite = TRUE)
dbDisconnect(conn)



new_data <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'boreal_caribou_zones_2019', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the proposed management areas for the boreal caribou herds.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'rast',
                        table_name = 'boreal_caribou_zones_2019', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the proposed management areas for the boreal caribou herds.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data3 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'public',
                        table_name = 'boreal_caribou_zones_2019_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the proposed management areas for the boreal caribou herds.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data4 <- data.table (computer = 'DC052586', 
                        database = 'clus',  
                        schema = 'zone',
                        table_name = 'boreal_caribou_zones_2019_vat', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'Iaian Mcdougall, data compiled to complete timber impact assessment of multiple management areas in Fort St. John TSA, as requested by Shane Ford; these data delineate the proposed management areas for the boreal caribou herds.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
# merge tables
pgdbs_data_list_new <- Reduce (function(dtf1, dtf2) merge (dtf1, dtf2, all = TRUE), 
                               list (pgdbs_data_list, new_data, new_data2, new_data3, new_data4))
# re-upload data to postgres
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new, 
                  row.names = FALSE, overwrite = TRUE)
dbDisconnect(conn)




new_data <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'public', 
                        table_name = 'oldgrwth_def_rec_6_3_a', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as old growth in BEC zones with <10% old forest (recommendation 6.3a).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data1 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'public', 
                        table_name = 'oldgrwth_def_rec_6_3_c', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as ancient forest (>300 year old), defined as the probaility on old stands is ancient, based on BEC zone (recommendation 6.3c).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'public', 
                        table_name = 'oldgrwth_def_rec_6_3_e', 
                        type = 'polygon', 
                        script = 'ogr', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as forest stands with a site productivity >20 (using provicial site productivity layer) (recommendation 6.3e).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data3 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'rast', 
                        table_name = 'oldgrwth_def_rec63a', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\proposed_old_growth_deferal_areas.Rmd', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as old growth in BEC zones with <10% old forest (recommendation 6.3a).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data4 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'zone', 
                        table_name = 'oldgrwth_def_rec63a', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\proposed_old_growth_deferal_areas.Rmd', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as old growth in BEC zones with <10% old forest (recommendation 6.3a).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data5 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'rast', 
                        table_name = 'oldgrwth_def_rec63c', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\proposed_old_growth_deferal_areas.Rmd', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as ancient forest (>300 year old), defined as the probaility on old stands is ancient, based on BEC zone (recommendation 6.3c).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data6 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'zone', 
                        table_name = 'oldgrwth_def_rec63c', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\proposed_old_growth_deferal_areas.Rmd', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as ancient forest (>300 year old), defined as the probaility on old stands is ancient, based on BEC zone (recommendation 6.3c).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data7 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'vat', 
                        table_name = 'oldgrwth_def_rec63c', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\proposed_old_growth_deferal_areas.Rmd', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as ancient forest (>300 year old), defined as the probaility on old stands is ancient, based on BEC zone (recommendation 6.3c).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data8 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'rast', 
                        table_name = 'oldgrwth_def_rec63e', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\proposed_old_growth_deferal_areas.Rmd', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as forest stands with a site productivity >20 (using provicial site productivity layer) (recommendation 6.3e).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data9 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'zone', 
                        table_name = 'oldgrwth_def_rec63e', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\proposed_old_growth_deferal_areas.Rmd', 
                        source = 'Adrian Walton, data compiled for old growth area deferal recommendations. This defines the location of proposed old growth deferral as forest stands with a site productivity >20 (using provicial site productivity layer) (recommendation 6.3e).', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
# merge tables
pgdbs_data_list_new <- Reduce (function(dtf1, dtf2) merge (dtf1, dtf2, all = TRUE), 
                               list (pgdbs_data_list, new_data, new_data2, new_data3, new_data4, 
                                     new_data5, new_data6, new_data7, new_data8, new_data9))
# re-upload data to postgres
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new, 
                  row.names = FALSE, overwrite = TRUE)

dbDisconnect(conn)



new_data <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'rast', 
                        table_name = 'boreal_caribou_old', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'overlaps between old growth area deferral recommendations (recommendation 6.3a, c and e) and boreal caribou management zones.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data1 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'rast', 
                        table_name = 'graham_caribou_old ', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'overlaps between old growth area deferral recommendations (recommendation 6.3a, c and e) and Graham caribou core habitat.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data2 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'rast', 
                        table_name = 'pink_mtn_caribou_old ', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'overlaps between old growth area deferral recommendations (recommendation 6.3a, c and e) and Pink Mountain caribou core habitat.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data3 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'rast', 
                        table_name = 'fn_aoi_caribou ', 
                        type = 'raster', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'overlaps between select First Nations areas of interest (Chowade River Valley, Crying Girl, Hackney Hills, North Road, and Old Many Lily) and caribou habitat (boreal, Graham and Pink Mtn)', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data4 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'zone', 
                        table_name = 'boreal_caribou_old', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'overlaps between old growth area deferral recommendations (recommendation 6.3a, c and e) and boreal caribou management zones.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data5 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'zone', 
                        table_name = 'graham_caribou_old', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'overlaps between old growth area deferral recommendations (recommendation 6.3a, c and e) and Graham caribou core habitat.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data6 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'zone', 
                        table_name = 'pink_mtn_caribou_old', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'overlaps between old growth area deferral recommendations (recommendation 6.3a, c and e) and Pink Mountain caribou core habitat.', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
new_data7 <- data.table (computer = 'DC052586', 
                        database = 'clus', 
                        schema = 'zone', 
                        table_name = 'fn_aoi_caribou', 
                        type = 'table', 
                        script = 'clus\\R\\Params\\fsj_management_areas.Rmd', 
                        source = 'overlaps between select First Nations areas of interest (Chowade River Valley, Crying Girl, Hackney Hills, North Road, and Old Many Lily) and caribou habitat (boreal, Graham and Pink Mtn)', 
                        public = 'No', 
                        last_updated = '2021', 
                        next_update = 'as needed', 
                        where_used = 'dataloaderCLUS' 
                        )
# merge tables
pgdbs_data_list_new <- Reduce (function(dtf1, dtf2) merge (dtf1, dtf2, all = TRUE), 
                               list (pgdbs_data_list, new_data, new_data1, new_data2, new_data3, new_data4, 
                                     new_data5, new_data6, new_data7))
# re-upload data to postgres
DBI::dbWriteTable(conn, c("public", "pgdbs_data_list"), 
                  value = pgdbs_data_list_new, 
                  row.names = FALSE, overwrite = TRUE)

dbDisconnect(conn)


```

